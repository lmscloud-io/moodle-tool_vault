define("tool_vault/signon",["exports","./selectors"],(function(_exports,_selectors){function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=_exports.closeLoginSignupModal=void 0;var openLoginSignupModal=function(e){var _document$querySelect;document.querySelector(_selectors.SELECTORS.APIKEY_FORM_CONTAINER).innerHTML="",null===(_document$querySelect=document.querySelector(_selectors.SELECTORS.LEGACY_FORM_CONTAINER))||void 0===_document$querySelect||_document$querySelect.classList.add("hidden");var signInButton=e.target,loginSignupIframe=document.querySelector(_selectors.SELECTORS.APIKEY_IFRAME),url=signInButton&&loginSignupIframe?signInButton.dataset.target:null;loginSignupIframe.src=url,loginSignupIframe.style.display="block"},closeLoginSignupModal=function(){var loginSignupIframe=document.querySelector(_selectors.SELECTORS.APIKEY_IFRAME);loginSignupIframe.style.display="none",loginSignupIframe.src="about:blank"};_exports.closeLoginSignupModal=closeLoginSignupModal;_exports.init=function(onMessage){var signInButton=document.querySelector(_selectors.SELECTORS.SIGNIN_BUTTON),signUpButton=document.querySelector(_selectors.SELECTORS.SIGNUP_BUTTON),loginSignupIframe=document.querySelector(_selectors.SELECTORS.APIKEY_IFRAME),url=signInButton&&loginSignupIframe?signInButton.dataset.target:null;if(url){var urlHost=url.match(/^(https?:\/\/[^/]+)(.*)$/)[1];signInButton.onclick=openLoginSignupModal,signUpButton&&(signUpButton.onclick=openLoginSignupModal),document.querySelector(_selectors.SELECTORS.ENTER_KEY_BUTTON).addEventListener("click",(function(){closeLoginSignupModal()})),window.addEventListener("message",(function(event){event.origin===urlHost&&event.data&&"object"===_typeof(event.data)&&("close"===event.data.action?closeLoginSignupModal():onMessage(event))}),!1)}}}));

//# sourceMappingURL=signon.min.js.map